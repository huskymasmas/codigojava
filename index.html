<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>java codigos</title>
</head>
<body>

    <h1>curososeaisgnacion</h1>
    <h2>es te codigo es de la pantalla inicial</h2>
    <p style="width: 100%;
    max-width: 800px;
    background-color: #1e1e1e; /* Fondo oscuro, similar a VS Code */
    color: #d4d4d4; /* Texto claro */
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    font-family: 'Courier New', Courier, monospace;
    overflow: hidden;">import java.awt.EventQueue;

        import javax.swing.JFrame;
        import javax.swing.JPanel;
        import javax.swing.border.EmptyBorder;
        import javax.swing.event.ChangeEvent;
        import javax.swing.event.ChangeListener;
        import javax.swing.table.DefaultTableModel;
        
        import java.awt.SystemColor;
        import java.awt.event.ActionEvent;
        import java.awt.event.ActionListener;
        import java.awt.event.ItemEvent;
        import java.awt.event.ItemListener;
        import java.io.File;
        import java.io.FileNotFoundException;
        import java.io.FileWriter;
        import java.io.IOException;
        import java.io.PrintWriter;
        import java.util.ArrayList;
        import java.util.List;
        import java.util.Scanner;
        import java.util.Vector;
        
        import javax.swing.JLabel;
        import javax.swing.JTextField;
        import java.awt.Font;
        import javax.swing.JTextArea;
        import javax.swing.JList;
        import javax.swing.JOptionPane;
        import javax.swing.JTable;
        import javax.swing.JScrollPane;
        import javax.swing.JButton;
        import com.opencsv.CSVWriter;
        
        
        
        public class curososeaisgnacion extends JFrame  implements ActionListener, ItemListener  , ChangeListener {
        
            private static final long serialVersionUID = 1L;
            private JPanel contentPane;
            private JTable table;
            JButton btnfac ,btnfac_1;
            DefaultTableModel model = new DefaultTableModel();
              String[] filas ;
              String nit;
              int numeroderecargas = 0;
              float total , total_producto;
            
            
            File file1;
            /**
             * Launch the application.
             */
            public static void main(String[] args) {
                EventQueue.invokeLater(new Runnable() {
                    public void run() {
                        try {
                            curososeaisgnacion frame = new curososeaisgnacion();
                            frame.setVisible(true);
                        } catch (Exception e) {
                            e.printStackTrace();
                        }
                    }
                });
            }
        
            /**
             * Create the frame.
             */
            public curososeaisgnacion() {
                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                setBounds(100, 100, 607, 367);
                contentPane = new JPanel();
                contentPane.setBackground(SystemColor.activeCaption);
                contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
        
                setContentPane(contentPane);
                contentPane.setLayout(null);
                
                JScrollPane scrollPane = new JScrollPane();
                scrollPane.setBounds(10, 11, 571, 272);
                contentPane.add(scrollPane);
                
                table = new JTable();
                scrollPane.setViewportView(table);
        
                table = new JTable();
                table = new JTable (model);
                table.setModel(model);
            
                imprimirentabla();
                scrollPane.setViewportView(table);
                
                btnfac = new JButton("Ingresar alumno");
                btnfac.setBounds(20, 294, 186, 23);
                contentPane.add(btnfac);
                
                 btnfac_1 = new JButton("Buscar alumno");
                btnfac_1.setBounds(395, 294, 186, 23);
                contentPane.add(btnfac_1);
                btnfac.addActionListener(this);
                btnfac_1.addActionListener(this);
            }
        
            @Override
            public void stateChanged(ChangeEvent e) {
                // TODO Auto-generated method stub
                
            }
        
            @Override
            public void itemStateChanged(ItemEvent e) {
                // TODO Auto-generated method stub
                
            }
        
            @Override
            public void actionPerformed(ActionEvent e) {
                // TODO Auto-generated method stub
                file1 = new File("./archivoinventario.csv");
                if(e.getSource() == btnfac_1) {
                    
                    alumnosvisualisasion frame = new alumnosvisualisasion();
                    frame.setVisible(true);
                    dispose();
                    
                }
                
                if(e.getSource() == btnfac) {
                    
                     File file = new File("./alumnos.csv");
                    
                        try {
                            FileWriter outputFile = new FileWriter(file , true);
                            CSVWriter writer = new CSVWriter(outputFile);
                            // Declaramos las filas.
                            if(file.length() == 0) {
                            String[] cabecera = { "ID","Nombre", "Apellidos", "carnet" };
                            writer.writeNext(cabecera);
                            }
                            JOptionPane.showMessageDialog(null, "asignacion");
                            
                            List<String[]> filas = new ArrayList();
                            alumno.n.id =JOptionPane.showInputDialog("Escribe el ID");
                            alumno.n.nombre =JOptionPane.showInputDialog("Escribe el nombre");
                            //String nombre=(textField.getText());
                            alumno.n.apellido =JOptionPane.showInputDialog("Escribe el apellido");
                            alumno.n.carnte =JOptionPane.showInputDialog("Escribe el carnet");
                             
                         
                     
                            filas.add(new String[] { alumno.n.id, alumno.n.nombre, alumno.n.apellido , alumno.n.carnte});
        
                            JOptionPane.showMessageDialog(null, "¡Has guardado un registro!");
                     
                            
                            // Ahora las vamos a insertar
                            writer.writeAll(filas);
                            //Cerramos todo
                            writer.close();
                            outputFile.close();
                        } catch (IOException exception) {
                            exception.printStackTrace();
                        }
                        
                        File file2 = new File("./asignacion.csv");
                        try {
                             String Nombrecurso = null;
                             float costototal = 0;
                            FileWriter outputFile = new FileWriter(file2 , true);
                            CSVWriter writer = new CSVWriter(outputFile);
                            // Declaramos las filas.
                           if(file2.length() == 0) {
                               String[] cabecera = { "ID","carnet", "codigo curso", "nombre del curso ","precio" , "total"};
                                writer.writeNext(cabecera);
                           }
                            List<String[]> filas = new ArrayList();
                            int cantidad=0;
                            cantidad=Integer.parseInt(JOptionPane.showInputDialog("Escribe la cantidad de curos"));
                            if(cantidad > 6 ) {
                                
                                  JOptionPane.showMessageDialog(null, "¡no se pueden mas de 6 cursos!");
                                  cantidad=Integer.parseInt(JOptionPane.showInputDialog("Escribe la cantidad de curos"));
                            }
                            for (int i=1; i<=cantidad; i++)
                            {
                            String codigo =JOptionPane.showInputDialog("Escribe el codigo del curos");
        
                            
                            //String[] fila2 = {nombre, apellido, edad, sexo }; 
        
                            List<String[]> fil = new ArrayList<>();
                            
                            
                          Scanner scanner = new Scanner(new File("C:\\Users\\Rodrigo Cuetto\\eclipse-workspace\\examenFinalCVS\\curosos.csv"));
                            while (scanner.hasNextLine())
                            {
                                
                            String linea = scanner.nextLine();
                            
        
                              
                           
        
                            String[] datos = linea.split(",");
                           
                           
                                
                            
                      
                       
                            String[] fila = {  datos[0] , datos[1]};
                            if(fila[0].equals(codigo)) {
                               Nombrecurso =  fila[1];
                                  
        
                          
                                  
                                  
                                }
                         }
                          scanner.close();
                       
        
                            costototal = 100 *cantidad;
                            
                            filas.add(new String[] {alumno.n.id,alumno.n.carnte  , codigo , Nombrecurso, ""+ 100 , ""});
                            
                            
                            
                            //filas.add(fila2);
                            JOptionPane.showMessageDialog(null, "¡Has guardado un registro!");
                            
                            
                            }
                            
                            String totaltexto = ""+costototal;
                            filas.add(new String[] {alumno.n.id, alumno.n.carnte , "", "" , "",  totaltexto});
                            // Ahora las vamos a insertar
                            writer.writeAll(filas);
                            //Cerramos todo
                            writer.close();
                            outputFile.close();
                        } catch (IOException exception) {
                            exception.printStackTrace();
                        }
                        dispose();
                        curososeaisgnacion frame1 = new curososeaisgnacion();
                        frame1.setVisible(true);
                        dire frame2 = new dire();
                        frame2.setVisible(true);
                    
                    
                }
            }
            
            
            public void imprimirentabla() {
                boolean nombredelascolumnas = true;
                  try
                  {
                  Scanner scanner = new Scanner(new File("C:\\Users\\Rodrigo Cuetto\\eclipse-workspace\\examenFinalCVS\\curosos.csv"));
                  while (scanner.hasNextLine())
                  {
                      
                  String linea = scanner.nextLine();
                  
        
                    
                 
        
                  String[] datos = linea.split(",");
                 
                 
                      
                  
            
             
                  Object[] fila = {  datos[0] , datos[1]  };
                
            
                  
                  
                  if (nombredelascolumnas  &&  numeroderecargas < 1) {
                        
                      model.addColumn(fila[0]);
                      model.addColumn(fila[1]);
                      nombredelascolumnas = false; 
                      numeroderecargas++;
                
                     continue;
                    }
                  
                  model.addRow(fila);
                  
                  /*
                  if(fila[0].equals("878")) {
                      model.addRow(fila);
                  }
                 */
                     
                     
                  }
                  scanner.close();
                  }
                  catch (FileNotFoundException e)
                  {
                  e.printStackTrace();
                  }
                
            }
        }
        </p>
</body>
</html>